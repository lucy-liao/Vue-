webpackJsonp([1],{348:function(t,n,s){"use strict";function i(t){c||s(374)}Object.defineProperty(n,"__esModule",{value:!0});var e=s(356),o=s(380),a=s(201),c=!1,r=i,l=Object(a.a)(e.a,o.a,o.b,!1,r,null,null);l.options.__file="src\\component\\shoppingInfo.vue",n.default=l.exports},356:function(t,n,s){"use strict";var i=s(376);n.a={data:function(){return{goodsList:[]}},created:function(){this.getGoodsData()},components:{inputNumber:i.a},computed:{getTotalCount:function(){var t=0;return this.goodsList.forEach(function(n){n.isSelected&&(t+=n.buycount)}),t},getTotalMoney:function(){var t=0;return this.goodsList.forEach(function(n){n.isSelected&&(t+=n.buycount*n.sell_price)}),t}},methods:{getGoodsData:function(){var t=this,n=JSON.parse(localStorage.getItem("goodsData")),s=[];for(var i in n)s[s.length]=i;var e="site/comment/getshopcargoods/"+s.join(",");this.$axios.get(e).then(function(s){s.data.message.forEach(function(t){t.buycount=n[t.id],t.isSelected=!0}),t.goodsList=s.data.message})},handlerGoodsData:function(t){this.goodsList.forEach(function(n){n.id==t.goodsId&&(n.buycount=t.goodsCount)}),this.$store.commit("updateGoods",t)},deleteGoods:function(t){var n=this;this.$confirm("是否删除Id为"+t+"的商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var s=n.goodsList.findIndex(function(n){return n.id==t});n.goodsList.splice(s,1),n.$store.commit("deleteGoods",t)}).catch(function(){n.$message({type:"info",message:"已取消删除"})})},continueShopping:function(){this.$router.push({path:"/site/goodsList"})},postTheOrder:function(){var t=[];if(this.goodsList.forEach(function(n){n.isSelected&&t.push(n.id)}),0==t.length)return void this.$message({message:"没有选中任何商品哦，最少要一件商品哦",type:"warning"});this.$router.push({path:"/site/order/"+t.join(",")})}}}},357:function(t,n,s){"use strict";n.a={props:["goodsId","goodsCount"],data:function(){return{count:0}},created:function(){this.count=this.goodsCount},methods:{sub:function(){this.count<=1||(this.count--,this.changeGoodsCount())},add:function(){this.count++,this.changeGoodsCount()},changeGoodsCount:function(){var t={goodsId:this.goodsId,goodsCount:this.count};this.$emit("getChangeCount",t)}}}},374:function(t,n,s){var i=s(375);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=s(202).default;e("b91b08d4",i,!1,{})},375:function(t,n,s){n=t.exports=s(48)(!1),n.push([t.i,"\n.goodsInfo{\n    /* width: 50px;\n    height: 50px; */\n    /* text-align: center; */\n    display: flex;\n    align-items: center;\n}\n.goodsInfo img{\n    width: 50px;\n    height: 50px;\n    margin-right: 5px;\n}\n\n",""])},376:function(t,n,s){"use strict";function i(t){c||s(377)}var e=s(357),o=s(379),a=s(201),c=!1,r=i,l=Object(a.a)(e.a,o.a,o.b,!1,r,null,null);l.options.__file="src\\subComponent\\inputNumber.vue",n.a=l.exports},377:function(t,n,s){var i=s(378);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var e=s(202).default;e("165f1ade",i,!1,{})},378:function(t,n,s){n=t.exports=s(48)(!1),n.push([t.i,"\n.left,.middle,.right{\n    display:inline-block;\n    border: 1px solid #000;\n    width: 20px;\n    height: 30px;\n    text-align: center;\n    line-height: 30px;\n}\n",""])},379:function(t,n,s){"use strict";s.d(n,"a",function(){return i}),s.d(n,"b",function(){return e});var i=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",[s("div",{staticClass:"left",on:{click:t.sub}},[t._v("-")]),t._v(" "),s("div",{staticClass:"middle",on:{click:t.changeGoodsCount}},[t._v(t._s(t.count))]),t._v(" "),s("div",{staticClass:"right",on:{click:t.add}},[t._v("+")])])},e=[];i._withStripped=!0},380:function(t,n,s){"use strict";s.d(n,"a",function(){return i}),s.d(n,"b",function(){return e});var i=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",[t._m(0),t._v(" "),s("div",{staticClass:"section"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"bg-wrap"},[t._m(1),t._v(" "),s("div",{staticClass:"cart-box"},[s("input",{attrs:{id:"jsondata",name:"jsondata",type:"hidden"}}),t._v(" "),s("table",{staticClass:"cart-table",attrs:{width:"100%",align:"center",border:"0",cellspacing:"0",cellpadding:"8"}},[s("tbody",[t._m(2),t._v(" "),t._l(t.goodsList,function(n){return s("tr",{key:n.id},[s("th",{attrs:{width:"48",align:"center"}},[s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#555555"},model:{value:n.isSelected,callback:function(s){t.$set(n,"isSelected",s)},expression:"item.isSelected"}})],1),t._v(" "),s("th",{attrs:{align:"left",colspan:"2"}},[s("div",{staticClass:"goodsInfo"},[s("img",{attrs:{src:n.img_url,alt:""}}),t._v("\n                                          "+t._s(n.title)+"\n                                      ")])]),t._v(" "),s("th",{attrs:{width:"84",align:"left"}},[t._v(t._s(n.sell_price))]),t._v(" "),s("th",{attrs:{width:"104",align:"center"}},[s("inputNumber",{attrs:{goodsId:n.id,goodsCount:n.buycount},on:{getChangeCount:t.handlerGoodsData}})],1),t._v(" "),s("th",{attrs:{width:"104",align:"left"}},[t._v(t._s(n.sell_price*n.buycount)+"(元)")]),t._v(" "),s("th",{attrs:{width:"54",align:"center"}},[s("a",{on:{click:function(s){t.deleteGoods(n.id)}}},[t._v("删除")])])])}),t._v(" "),0==t.$store.getters.getGoodsData?s("tr",[t._m(3)]):t._e(),t._v(" "),s("tr",[s("th",{attrs:{align:"right",colspan:"8"}},[t._v("\n                                      已选择商品\n                                      "),s("b",{staticClass:"red",attrs:{id:"totalQuantity"}},[t._v(t._s(t.getTotalCount))]),t._v(" 件     商品总金额（不含运费）：\n                                      "),s("span",{staticClass:"red"},[t._v("￥")]),t._v(" "),s("b",{staticClass:"red",attrs:{id:"totalAmount"}},[t._v(t._s(t.getTotalMoney))]),t._v("元\n                                  ")])])],2)])]),t._v(" "),s("div",{staticClass:"cart-foot clearfix"},[s("div",{staticClass:"right-box"},[s("button",{staticClass:"button",on:{click:t.continueShopping}},[t._v("继续购物")]),t._v(" "),s("button",{staticClass:"submit",on:{click:t.postTheOrder}},[t._v("提交订单")])])])])])])])},e=[function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"section"},[s("div",{staticClass:"location"},[s("span",[t._v("当前位置：")]),t._v(" "),s("a",{attrs:{href:"/index.html"}},[t._v("首页")]),t._v(" >\n              "),s("a",{attrs:{href:"/cart.html"}},[t._v("购物车")])])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"cart-head clearfix"},[s("h2",[s("i",{staticClass:"iconfont icon-cart"}),t._v("我的购物车")]),t._v(" "),s("div",{staticClass:"cart-setp"},[s("ul",[s("li",{staticClass:"first active"},[s("div",{staticClass:"progress"},[s("span",[t._v("1")]),t._v("\n                                      放进购物车\n                                  ")])]),t._v(" "),s("li",[s("div",{staticClass:"progress"},[s("span",[t._v("2")]),t._v("\n                                      填写订单信息\n                                  ")])]),t._v(" "),s("li",{staticClass:"last"},[s("div",{staticClass:"progress"},[s("span",[t._v("3")]),t._v("\n                                      支付/确认订单\n                                  ")])])])])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("tr",[s("th",{attrs:{width:"48",align:"center"}},[s("a",[t._v("选择")])]),t._v(" "),s("th",{attrs:{align:"left",colspan:"2"}},[t._v("商品信息")]),t._v(" "),s("th",{attrs:{width:"84",align:"left"}},[t._v("单价")]),t._v(" "),s("th",{attrs:{width:"104",align:"center"}},[t._v("数量")]),t._v(" "),s("th",{attrs:{width:"104",align:"left"}},[t._v("金额(元)")]),t._v(" "),s("th",{attrs:{width:"54",align:"center"}},[t._v("操作")])])},function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("td",{attrs:{colspan:"10"}},[s("div",{staticClass:"msg-tips"},[s("div",{staticClass:"icon warning"},[s("i",{staticClass:"iconfont icon-tip"})]),t._v(" "),s("div",{staticClass:"info"},[s("strong",[t._v("购物车没有商品！")]),t._v(" "),s("p",[t._v("您的购物车为空，\n                                                  "),s("a",{attrs:{href:"/index.html"}},[t._v("马上去购物")]),t._v("吧！")])])])])}];i._withStripped=!0}});